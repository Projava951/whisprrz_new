{header}

<!-- BEGIN: Vendor CSS-->
<link rel="stylesheet" type="text/css" href="{url_tmpl_administration}app-assets/vendors/css/charts/chartist.css{cache_version_param}">
<link rel="stylesheet" type="text/css" href="{url_tmpl_administration}app-assets/vendors/css/charts/chartist-plugin-tooltip.css{cache_version_param}">
<link rel="stylesheet" type="text/css" href="{url_tmpl_administration}app-assets/vendors/css/charts/jquery-jvectormap-2.0.3.css{cache_version_param}">
<!-- END: Vendor CSS-->
<!-- BEGIN: Page CSS-->
<link rel="stylesheet" type="text/css" href="{url_tmpl_administration}app-assets/css/plugins/charts/chartist.css{cache_version_param}">
<!-- END: Page CSS-->

<style id="style_chart"></style>

<div class="content-header row">
	<div class="content-header-left col-md-4 col-12 mb-2">
		<h3 class="content-header-title">{l_menu_main}</h3>
	</div>
	<!--<div class="content-header-right col-md-8 col-12">
		<div class="breadcrumbs-top float-md-right">
			<div class="breadcrumb-wrapper mr-1">
				<ol class="breadcrumb">
					<li class="breadcrumb-item">
						<a href="{url_main}administration/template.php">{l_menu_main}</a>
					</li>
					<li class="breadcrumb-item active">
						{l_title_current}
					</li>
				</ol>
			</div>
		</div>
	</div>-->
</div>

<!-- begin_stats -->
<div class="content-body hide-768">
	<div class="row">
		<div class="col-12">
			<div class="card">
				<div class="card-header">
					<h4 class="card-title">{l_title_current}</h4>
                    <a class="heading-elements-toggle"><i class="la la-ellipsis-v font-medium-3"></i></a>
                    <div class="heading-elements">
                        <ul class="list-inline mb-0">
                            <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
                        </ul>
                    </div>
				</div>
				<div class="card-content collapse show">
					<div class="card-body">
                        <div id="areaGradient" class="height-400 areaGradientShadow chart_stats"></div>

						<div class="stats_chart_box">
							<!-- begin_item_stats_title -->
							<div class="stats_chart_or" style="color:{color}">
								<svg><circle style="fill:{color}" cx="9" cy="6" r="5"/></svg>
								{title}
							</div>
							<!-- end_item_stats_title -->
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="content-body hide-768 mt-2 mb-n4">
	<div class="row">
		<div class="col-xl-4 col-lg-6 col-md-12">
			<div class="card">
                <div class="card-header">
					<h4 class="card-title">{l_weekly_visitors}</h4>
                </div>
                <div class="card-content">
					<div class="card-body">
                        <div id="visitor-week-chart" class="height-350 BarChartShadow"></div>
                    </div>
				</div>
			 </div>
		</div>

		<div class="col-xl-4 col-lg-6 col-md-12">
			<div class="card">
                <div class="card-header">
					<h4 class="card-title">{l_monthly_visitors}</h4>
                </div>
                <div class="card-content">
					<div class="card-body">
                        <div id="visitor-month-year-chart" class="height-350 BarChartShadow"></div>
                    </div>
				</div>
			 </div>
		</div>

		<div class="col-xl-4 col-lg-12">
			<div class="card">
                <div class="card-header">
					<h4 class="card-title">{l_average_daily_visitors}</h4>
                </div>
				<div class="card-content">
                    <div class="card-body text-center bl_average_visitors h_365">
                        <div class="card-header pt-2 pb-0">
                            <h3 class="display-4 blue-grey lighten-2">{average_logins}</h3>
                        </div>
                        <div class="card-content pt-1">
                            <div id="chart_average_visitors" class="height-150 donutShadow"></div>
                        </div>
                    </div>
				</div>
			 </div>
		</div>
	</div>
</div>
<!-- end_stats -->

<div class="content-body mt-3">

					<div class="row">
                        <div class="col-12 mt-2 mb-1">
                            <h4 class="text-uppercase">{l_statistics}</h4>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-xl-3 col-lg-6 col-md-12">
                            <div class="card">
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="media d-flex">
                                            <div class="align-self-top">
                                                <i class="icon-users icon-opacity warning font-large-4"></i>
                                            </div>
                                            <div class="media-body text-right align-self-bottom mt-3">
                                                <span class="d-block mb-1 font-medium-1">{l_total_users}</span>
                                                <h1 class="warning mb-0">{total_users}</h1>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
						<div class="col-xl-3 col-lg-6 col-md-12">
                            <div class="card">
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="media d-flex">
                                            <div class="align-self-top">
												<i class="fa fa-address-book-o icon-opacity info font-large-4" aria-hidden="true"></i>
                                            </div>
                                            <div class="media-body text-right align-self-bottom mt-3">
                                                <span class="d-block mb-1 font-medium-1">{l_total_partners}</span>
                                                <h1 class="info mb-0">{total_partners}</h1>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-xl-3 col-lg-6 col-md-12">
                            <div class="card">
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="media d-flex">
                                            <div class="align-self-top">
                                                <i class="icon-basket-loaded icon-opacity success font-large-4"></i>
                                            </div>
                                            <div class="media-body text-right align-self-bottom mt-3">
                                                <span class="d-block mb-1 font-medium-1">{l_total_order}</span>
                                                <h1 class="success mb-0">{total_orders}</h1>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-6 col-md-12">
                            <div class="card">
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="media d-flex">
                                            <div class="align-self-top">
												<i class="fa fa-diamond icon-opacity danger font-large-4" aria-hidden="true"></i>
                                            </div>
                                            <div class="media-body text-right align-self-bottom mt-3">
                                                <span class="d-block mb-1 font-medium-1">{l_total_membership}</span>
                                                <h1 class="danger mb-0">{total_users_membership}</h1>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xl-3 col-lg-6 col-12">
                            <div class="card">
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="media d-flex">
                                            <div class="media-body text-left align-self-bottom mt-3">
                                                <span class="d-block mb-1 font-medium-1">{l_total_photos}</span>
                                                <h1 class="danger mb-0">{total_photos}</h1>
                                            </div>
                                            <div class="align-self-top">
												<i class="fa fa-picture-o icon-opacity danger font-large-4" aria-hidden="true"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-6 col-12">
                            <div class="card">
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="media d-flex">
                                            <div class="media-body text-left align-self-bottom mt-3">
                                                <span class="d-block mb-1 font-medium-1">{l_total_videos}</span>
                                                <h1 class="success mb-0">{total_videos}</h1>
                                            </div>
                                            <div class="align-self-top">
												<i class="fa fa-film icon-opacity success font-large-4" aria-hidden="true"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-xl-3 col-lg-6 col-12">
                            <div class="card">
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="media d-flex">
                                            <div class="media-body text-left align-self-bottom mt-3">
                                                <span class="d-block mb-1 font-medium-1">{l_total_messages}</span>
                                                <h1 class="warning mb-0">{total_messages}</h1>
                                            </div>
                                            <div class="align-self-top">
												<i class="fa fa-comments-o icon-opacity warning font-large-4" aria-hidden="true"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-6 col-12">
                            <div class="card">
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="media d-flex">
                                            <div class="media-body text-left align-self-bottom mt-3">
                                                <span class="d-block mb-1 font-medium-1">{l_total_city}</span>
                                                <h1 class="info mb-0">{total_city}</h1>
                                            </div>
                                            <div class="align-self-top">
												<i class="fa fa-globe icon-opacity info font-large-4" aria-hidden="true"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
</div>

<!-- begin_stats_1 -->
<div class="content-body">
	<div class="row">
		<div class="col-12">
			<div class="card">
				<div class="card-header">
					<h4 class="card-title">{l_visitors_per_country_today}</h4>
                    <a class="heading-elements-toggle"><i class="la la-ellipsis-v font-medium-3"></i></a>
                    <div class="heading-elements">
                        <ul class="list-inline mb-0">
                            <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
                        </ul>
                    </div>
				</div>
				<div class="card-content collapse show">
					<div class="card-body">
						<div id="world-map-markers" class="world-map-markers"></div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		var mapVisitors,
		palette = ['#66C2A5', '#FC8D62', '#8DA0CB', '#E78AC3', '#A6D854'];
		generateColors = function(){
			var colors = {}, key;

			for (key in mapVisitors.regions) {
				colors[key] = palette[Math.floor(Math.random()*palette.length)];
			}
			return colors;
		}

		var markersCountryVisitor = [], countryDataTitle = [], countryDataVisitor = [], ci=0;
		<!-- begin_country_visitor_day_country -->
		countryDataTitle['{country_visitor_day_code}']= '{country_visitor_day_name}';
		<!-- end_country_visitor_day_country -->

		<!-- begin_country_visitor_day -->
		markersCountryVisitor[ci] = {latLng: [{country_visitor_day_lat},{country_visitor_day_long}], name: '{country_visitor_day_title}'};
		countryDataTitle['{country_visitor_day_code}']= '{country_visitor_day_title}';
		countryDataVisitor[ci] = '{country_visitor_day_count}'*1;
		ci++;
		<!-- end_country_visitor_day -->

		$win.on('load', function(){
			mapVisitors = new jvm.Map({
			//mapVisitors = $('#world-map-markers').vectorMap({
				container: $('#world-map-markers'),
				backgroundColor: '#1E9FF2',
				zoomOnScroll: false,
				map: 'world_mill',
				markersSelectable: true,
				scaleColors: ['#C8EEFF', '#0071A4'],
				normalizeFunction: 'polynomial',
				hoverOpacity: 0.7,
				hoverColor: false,
				markerStyle: {
					initial: {
						fill: '#FF9E80',
						stroke: '#FF6E40',
						'stroke-width': 2
					},
					hover: {
						fill: '#FF6E40',
						stroke: '#FF6E40',
					},
					selected: {
						fill: '#FF3D00',
						stroke: '#FF6E40',
					},
					selectedHover: {
						fill: '#DD2C00',
						stroke: '#FF6E40',
					}
				},
				regionStyle: {
					initial: {
						fill: '#BCE2FB',
					},
					hover: {
						fill: '#62BCF6'
					},
					selected: {
						fill: '#1E9FF2'
					},
					selectedHover: {
						fill: '#00BFA5'
					}
				},
				scaleColors: ['#C8EEFF', '#0071A4'],
				series: {
					regions: [{
						values: gdpData,
						scale:  ['#BCE2FB', '#62BCF6'],
						normalizeFunction: 'polynomial'
					}],
					markers: [{
						attribute: 'r',
						scale: [4, 8],
						values: countryDataVisitor
					}]
				},
				onRegionTipShow: function(e, el, code){
					if (typeof countryDataTitle[code] != 'undefined') {
						el.html(countryDataTitle[code]);
					}
				},
				onMarkerTipShow: function(e, el, code){
					//el.html(code);
				},
				markers: markersCountryVisitor
			})

			//setTimeout(function(){
				//console.log(mapVisitors.series.regions);
				//mapVisitors.series.regions[0].setValues();
			//},1000)
		})
	</script>
</div>

<div class="content-body mt-2">
	<div class="row">
		<div class="col-12">
			<div class="card">
				<div class="card-header">
					<h4 class="card-title">{l_menu_stats}</h4>
					<a class="heading-elements-toggle"><i class="la la-ellipsis-v font-medium-3"></i></a>
                    <div class="heading-elements">
                        <ul class="list-inline mb-0">
                            <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
                        </ul>
                    </div>
				</div>
				<div class="card-content collapse show">
					<div class="card-body">
						<div class="table-responsive">
						<table class="table table-striped table-hover mb-0">
							<thead class="bg-primary white">
                                <tr>
									<th>{l_date}</th>
									<th>{l_today}<span> ({day_title})</span></th>
									<th>{l_this_month}<span> ({month_title})</span></th>
									<th>{l_this_year}<span> ({year_title})</span></th>
									<th>{l_all}<span> ({l_since} {since_title})</span></th>
								</tr>
                            </thead>
                            <tbody>
								<!-- begin_row -->
								<tr class="{class}">
									<th scope="row">{name}</th>
									<td class="a_c">{day}</td>
									<td class="a_c">{month}</td>
									<td class="a_c">{year}</td>
									<td class="a_c">{total}</td>
								</tr>
								<!-- end_row -->
                            </tbody>
						</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script language="javascript" type="text/javascript">
    var labels=[], i=0, dataChar=[], stats=[], statsData=[], j=0, k=0, m=0, customStyle='',
		chartAlias = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];
    <!-- begin_item_stats_date -->
    labels[i]='{date}'.replace(/ /, '\n');
    i++;
    <!-- end_item_stats_date -->
    <!-- begin_item_data -->
    stats[{or}]=[];
	statsData[m]=[];
    <!-- begin_item_data_stats -->
    stats[{or}][k]='{count}';
	statsData[m][k]='{count}';
    k++;
    <!-- end_item_data_stats -->
    dataChar[j] = { label: '{data_title}',
					fillColor : 'rgba(220,220,220,0)',
					strokeColor : '{color}',
					pointColor : '{color}',
					pointStrokeColor : '#fff',
					pointHighlightFill : '#fff',
					pointHighlightStroke : '{color}',
					data : stats[{or}]
				};
    j++;
    k=0;
	if (m) {
		//customStyle +='.ct-series-'+chartAlias[m]+' .ct-line{stroke:{color}!important;}';
		customStyle +='.chart_stats .ct-series-'+chartAlias[m]+' .ct-point-circle {fill:{color}!important;}';
	}
	m++;

    <!-- end_item_data -->




    var randomScalingFactor = function(){ return Math.round(Math.random()*100)};
	var lineChartData = {
			labels : labels,
			datasets : dataChar,
    };
	$win.on('load', function () {
		var maxValues=[], maxValuesDefault=[];
		if (typeof statsData[0] != 'undefined' && statsData[0].length) {
			var dataValues=$.extend([], statsData[0]).sort(),
				lD=dataValues.length <= 3 ? 0 : (dataValues.length-3);
			maxValues=dataValues.splice(lD, 3);
			maxValuesDefault=$.extend([], maxValues);
		}
		var isK = false;
		for (k in maxValues) {
			if (maxValues[k] > 1000) {
				isK = true;
			}
		}

		var areaGradientChart = new Chartist.Line('#areaGradient', {
				labels: labels,
				series: statsData
			}, {
            lineSmooth: Chartist.Interpolation.simple({
                divisor: 3
            }),
            fullWidth: true,
            showArea: true,
            chartPadding: {
                right: 25
            },
            axisX: {

            },
            axisY: {
                scaleMinSpace: 40,
				onlyInteger: true,
				labelInterpolationFnc: function (value) {
					if (isK) {
						return (value / 1000) + 'k';
					} else {
						return value;
					}

                },
            },
            plugins: [
                Chartist.plugins.tooltip({
                    appendToBody: false,
                    pointClass: 'ct-point-circle'
                  })
              ],
            low: 0,
        });

		areaGradientChart.on('created', function (data) {
            var defs = data.svg.querySelector('defs') || data.svg.elem('defs');
            defs.elem('linearGradient', {
                id: 'area-gradient',
                x1: 1,
                y1: 0,
                x2: 0,
                y2: 0
            }).elem('stop', {
                offset: 0,
                'stop-color': 'rgba(248,161,236, 1)'
            }).parent().elem('stop', {
                offset: 1,
                'stop-color': 'rgba(115,150,255, 1)'
            });

			maxValues=$.extend([], maxValuesDefault);

			chartResetTooltipMax();
			chartCreateTooltipMax();

            return defs;
        })

        areaGradientChart.on('draw', function (data) {
        var circleRadius = 9;
        if (data.type === 'point') {
			var clActive = '';
			if (data.group._node.classList.contains('ct-series-a')) {
				for (k in maxValues) {
					if (maxValues[k] == data.value.y) {
						clActive = 'point_active';
						delete maxValues[k];
					}
				}
			}

            var circle = new Chartist.Svg('circle', {
                cx: data.x,
                cy: data.y,
                'ct:value': data.value.y,
                r: circleRadius,
                class: data.value.y === 0 ? 'ct-point-circle-transperent' : ('ct-point-circle ' + clActive)
            });
            data.element.replace(circle);
        }
        if (data.type === 'line' || data.type == 'area') {
            data.element.animate({
                d: {
                    begin: 100,
                    dur: 1000,
                    from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),
                    to: data.path.clone().stringify(),
                    easing: Chartist.Svg.Easing.easeOutQuint
                }
            });
        }
    });
	})

	var labelsWeeksLogins=[], seriesWeeksLogins=[];
	<!-- begin_weeks_logins -->
	labelsWeeksLogins['{weeks_logins_num}'] = '{weeks_logins_labels}'.replace(/ /, '\n');
	seriesWeeksLogins['{weeks_logins_num}'] = '{weeks_logins_series}';
	<!-- end_weeks_logins -->


	var labelsMonthLogins=[], i=0, seriesMonthLogins=[], statsDataMonthLogins=[], k=0, m=0, customStyle='',
		chartAliasVs = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];
    <!-- begin_item_stats_date_vs -->
    labelsMonthLogins[i]='{date_vs}';
    i++;
    <!-- end_item_stats_date_vs -->
    <!-- begin_item_data_vs -->
    seriesMonthLogins[{or_vs}]=[];
	statsDataMonthLogins[m]=[];

    <!-- begin_item_data_stats_vs -->
    seriesMonthLogins[{or_vs}][k]='{count_vs}';
	statsDataMonthLogins[m][k]='{count_vs}';
    k++;
    <!-- end_item_data_stats_vs -->
    k=0;
	if(m){
		customStyle +='#visitor-month-year-chart .ct-series-'+chartAliasVs[m]+' .ct-line {stroke:{color_vs}!important;}';
		customStyle +='#visitor-month-year-chart .ct-series-'+chartAliasVs[m]+' .ct-point-circle-transperent:hover {fill:{color_vs}!important;}';
	}
	m++;
    <!-- end_item_data_vs -->


	var maxValuesMonthLogins=[], maxValuesDefaultMonthLogins=[];
	if (typeof seriesMonthLogins[0] != 'undefined' && seriesMonthLogins[0].length) {
		var dataValues=$.extend([], seriesMonthLogins[0]).sort(),
			lD=dataValues.length <= 3 ? 0 : (dataValues.length-3);
		maxValuesMonthLogins=dataValues.splice(lD, 3);
		maxValuesDefaultMonthLogins=$.extend([], maxValuesMonthLogins);
	}
	var isKMonthLogins = false;
	for (k in maxValuesMonthLogins) {
		if (maxValuesMonthLogins[k] > 1000) {
			isKMonthLogins = true;
		}
	}

	$('#style_chart')[0].innerHTML=customStyle;
</script>
<!-- end_stats_1 -->

<!-- begin_nostats -->
<div class="content-body">
	<div class="row">
		<div class="col-12">
			<div class="card">
				<div class="card-header">
					<h4 class="card-title">{l_title_current}</h4>
                    <a class="heading-elements-toggle"><i class="la la-ellipsis-v font-medium-3"></i></a>
                    <div class="heading-elements">
                        <ul class="list-inline mb-0">
                            <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
                        </ul>
                    </div>
				</div>
				<div class="card-content collapse show">
					<div class="card-body">
                        <div class="alert alert-light mb-2 mt-2 alert-info-1" role="alert">
                            {l_no_stats}
                        </div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- end_nostats -->

<!-- BEGIN: Page Vendor JS-->
<script src="{url_tmpl_administration}app-assets/vendors/js/charts/chartist.min.js{cache_version_param}" type="text/javascript"></script>
<script src="{url_tmpl_administration}app-assets/vendors/js/charts/chartist-plugin-tooltip.js{cache_version_param}" type="text/javascript"></script>

<script src="{url_tmpl_administration}app-assets/vendors/js/charts/jvector/jquery-jvectormap-2.0.3.min.js{cache_version_param}" type="text/javascript"></script>
<script src="{url_tmpl_administration}app-assets/vendors/js/charts/jvector/jquery-jvectormap-world-mill.js{cache_version_param}" type="text/javascript"></script>
<!-- END: Page Vendor JS-->

<!-- BEGIN: Page JS-->
<script src="{url_tmpl_administration}js/dashboard-analytics.js{cache_version_param}" type="text/javascript"></script>
<script src="{url_tmpl_administration}app-assets/data/jvector/gdp-data.js{cache_version_param}" type="text/javascript"></script>
<!-- END: Page JS-->

{footer}